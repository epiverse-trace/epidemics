<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Prepare an object of the &amp;lt;intervention&amp;gt; super-class that specifies a
modification of the model parameters.
A &amp;lt;contacts_intervention&amp;gt; is used to simulate a non-pharmaceutical
intervention (NPI) regime that reduces the population's social contacts.
A &amp;lt;rate_intervention&amp;gt; is used to simulate a reduction in the model's rate
parameters (such as the transmission rate \(\beta\)), and can be used to
represent pharmaceutical interventions such as improved treatment, but also
NPIs such as wearing masks.
Interventions have a single start and end time that applies to all
demographic groups in the population, but can have groups-specific effects on
the reduction of contacts.
Combine &amp;lt;intervention&amp;gt;-inheriting objects to create sequential or
overlapping intervention regimes using c() on two or more
&amp;lt;intervention&amp;gt;-inheriting objects."><title>Create an intervention for an epidemic model — intervention • epidemics</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><script src="../deps/MathJax-2.7.5/MathJax.js"></script><script src="../deps/MathJax-2.7.5/TeX-AMS-MML_HTMLorMML.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create an intervention for an epidemic model — intervention"><meta property="og:description" content="Prepare an object of the &amp;lt;intervention&amp;gt; super-class that specifies a
modification of the model parameters.
A &amp;lt;contacts_intervention&amp;gt; is used to simulate a non-pharmaceutical
intervention (NPI) regime that reduces the population's social contacts.
A &amp;lt;rate_intervention&amp;gt; is used to simulate a reduction in the model's rate
parameters (such as the transmission rate \(\beta\)), and can be used to
represent pharmaceutical interventions such as improved treatment, but also
NPIs such as wearing masks.
Interventions have a single start and end time that applies to all
demographic groups in the population, but can have groups-specific effects on
the reduction of contacts.
Combine &amp;lt;intervention&amp;gt;-inheriting objects to create sequential or
overlapping intervention regimes using c() on two or more
&amp;lt;intervention&amp;gt;-inheriting objects."><meta property="og:image" content="https://epiverse-trace.github.io/epidemics/logo.svg"><meta name="robots" content="noindex"><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-XZ471458FQ"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-XZ471458FQ');
</script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    <nav class="navbar navbar-expand-lg fixed-top bg-dark" data-bs-theme="dark" aria-label="Site navigation"><div class="container">
    <a href="https://epiverse-trace.github.io/" class="external-link"><img src="https://epiverse-trace.github.io/blueprints/logo_white.svg" id="logo" alt="Epiverse-TRACE"></a>
    <a class="navbar-brand me-2" href="../index.html">epidemics</a>
    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.3.0.9000</small>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/epidemics.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Modelling interventions</h6></li>
    <li><a class="dropdown-item" href="../articles/modelling_interventions.html">Getting started with modelling interventions targeting social contacts</a></li>
    <li><a class="dropdown-item" href="../articles/modelling_multiple_interventions.html">Modelling overlapping and sequential interventions targeting social contacts</a></li>
    <li><a class="dropdown-item" href="../articles/modelling_rate_interventions.html">Modelling interventions that change infection parameters</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Modelling vaccination</h6></li>
    <li><a class="dropdown-item" href="../articles/modelling_vaccination.html">Modelling the effect of a vaccination campaign</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Modelling seasonality</h6></li>
    <li><a class="dropdown-item" href="../articles/modelling_time_dependence.html">Modelling time-dependence and seasonality in transmission dynamics</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Advanced modelling</h6></li>
    <li><a class="dropdown-item" href="../articles/modelling_param_uncertainty.html">Modelling parameter uncertainty</a></li>
    <li><a class="dropdown-item" href="../articles/modelling_scenarios.html">Modelling intervention scenarios</a></li>
    <li><a class="dropdown-item" href="../articles/finalsize_comparison.html">Reducing parameters required for final size estimation</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Guides to library models</h6></li>
    <li><a class="dropdown-item" href="../articles/model_vacamole.html">Modelling leaky vaccination and hospitalisation outcomes with Vacamole</a></li>
    <li><a class="dropdown-item" href="../articles/model_ebola.html">Modelling responses to a stochastic Ebola virus epidemic</a></li>
    <li><a class="dropdown-item" href="../articles/model_diphtheria.html">Modelling a diphtheria outbreak in a humanitarian camp setting</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Guides for developers</h6></li>
    <li><a class="dropdown-item" href="../articles/design-principles.html">Design principles for epidemics</a></li>
    <li><a class="dropdown-item" href="../articles/developer-walkthrough.html">Guide to developing epidemics features</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/epiverse-trace/epidemics/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Create an intervention for an epidemic model</h1>
      <small class="dont-index">Source: <a href="https://github.com/epiverse-trace/epidemics/blob/HEAD/R/intervention.R" class="external-link"><code>R/intervention.R</code></a></small>
      <div class="d-none name"><code>intervention.Rd</code></div>
    </div>
    <div class="ref-description section level2">
    <p>Prepare an object of the <code>&lt;intervention&gt;</code> super-class that specifies a
modification of the model parameters.</p>
<p>A <code>&lt;contacts_intervention&gt;</code> is used to simulate a non-pharmaceutical
intervention (NPI) regime that reduces the population's social contacts.</p>
<p>A <code>&lt;rate_intervention&gt;</code> is used to simulate a reduction in the model's rate
parameters (such as the transmission rate \(\beta\)), and can be used to
represent pharmaceutical interventions such as improved treatment, but also
NPIs such as wearing masks.</p>
<p>Interventions have a single start and end time that applies to all
demographic groups in the population, but can have groups-specific effects on
the reduction of contacts.</p>
<p>Combine <code>&lt;intervention&gt;</code>-inheriting objects to create sequential or
overlapping intervention regimes using <code><a href="https://rdrr.io/r/base/c.html" class="external-link">c()</a></code> on two or more
<code>&lt;intervention&gt;</code>-inheriting objects.</p>
    </div>
    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">intervention</span><span class="op">(</span>name <span class="op">=</span> <span class="cn">NA_character_</span>, <span class="va">type</span>, <span class="va">time_begin</span>, <span class="va">time_end</span>, <span class="va">reduction</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">is_intervention</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">is_contacts_intervention</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">is_rate_intervention</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'contacts_intervention'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'rate_intervention'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>
    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt id="arg-name">name<a class="anchor" aria-label="anchor" href="#arg-name"></a></dt>
<dd><p>String for the name of the intervention.</p></dd>
<dt id="arg-type">type<a class="anchor" aria-label="anchor" href="#arg-type"></a></dt>
<dd><p>String for the type of intervention. May be one of <code>"contacts"</code>
or <code>"rate"</code>, for a <code>&lt;contacts_intervention&gt;</code> or <code>&lt;rate_intervention&gt;</code>
respectively.</p></dd>
<dt id="arg-time-begin">time_begin<a class="anchor" aria-label="anchor" href="#arg-time-begin"></a></dt>
<dd><p>Single number for the start time of the intervention.</p></dd>
<dt id="arg-time-end">time_end<a class="anchor" aria-label="anchor" href="#arg-time-end"></a></dt>
<dd><p>Single number for the end time of the intervention.</p></dd>
<dt id="arg-reduction">reduction<a class="anchor" aria-label="anchor" href="#arg-reduction"></a></dt>
<dd><p>For <code>&lt;contacts_intervention&gt;</code>s, a matrix with as many rows as the
number of demographic groups in the type population, and a single column.
Each element gives the group-specific proportion reduction in contacts.</p>
<p>For <code>&lt;rate_intervention&gt;</code>s, a single number giving the proportion reduction
in a model parameter contacts.</p>
<p>See details for how <code><a href="https://rdrr.io/r/base/c.html" class="external-link">c()</a></code> can be used to combine interventions of the same
sub-class.</p></dd>
<dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>An <code>&lt;intervention&gt;</code> object, or an object to be checked as an
<code>&lt;intervention&gt;</code> object.</p></dd>
<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>intervention objects to combine with <code>x</code> to create a multi-dose
<code>&lt;intervention&gt;</code> object.</p></dd>
</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
<p>An object of the <code>&lt;intervention&gt;</code> S3 super-class, with possible
sub-classes <code>&lt;contact_intervention&gt;</code> and <code>&lt;rate_intervention&gt;</code>.</p>
<p>Concatenating two or more <code>&lt;intervention&gt;</code>-inheriting objects using <code><a href="https://rdrr.io/r/base/c.html" class="external-link">c()</a></code></p>
<p>also returns a <code>&lt;intervention&gt;</code>-inheriting object of the same sub-class.
This object holds the intervention-specific start and end times, and
reductions specified by all the constituent intervention actions (by
demographic group if an intervention on contacts).</p>
<p>The combined effect of these actions on the population is handled internally
by epidemic model functions.</p>
<p>A "null" intervention generated using <code>.no_contacts_intervention(population)</code></p>
<p>or <code>.no_rate_intervention()</code> returns a <code>&lt;intervention&gt;</code> of the appropriate
sub-class that has its start and end times, and its effect all
set to 0.0.</p>
<p><code>is_intervention()</code>, <code>is_contacts_intervention()</code>, and
<code>is_rate_intervention()</code> each return a logical value for whether the object
is of the <code>&lt;intervention&gt;</code>, <code>&lt;contacts_intervention&gt;</code>, or
<code>&lt;rate_intervention&gt;</code> class, respectively.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Epidemic models that can accommodate interventions on contacts are able to
accommodate any number of interventions with different start and end times
and different group-specific effects.</p>
<p>Epidemic models that can accommodate interventions on rates are also able to
accommodate any number of interventions with different start and end times,
but with only a uniform effect on the relevant rate.</p>
<p>When multiple contact interventions are combined using <code><a href="https://rdrr.io/r/base/c.html" class="external-link">c()</a></code>, the reduction
in contacts is stacked column wise to form a matrix \([i, j]\).</p>
<p>When multiple rate interventions are combined using <code><a href="https://rdrr.io/r/base/c.html" class="external-link">c()</a></code>, the reduction
in the rate is concatenated into a vector of the same length as the number of
interventions.</p>
<p>Models such as <code>model_default_cpp()</code> are set up to treat interventions
with overlapping periods (i.e., overlap between the time when they are active
) as having an <em>additive effect</em> on contact or rate reductions.</p>
<p>For contact reductions, the group-specific effect of \(J\) overlapping
interventions is thus a vector \(\sum_{j = 1}^J x_{ij}\), for each
demographic group \(i\). This is handled internally by the epidemic model
code.
For example, a contact reduction matrix for two perfectly overlapping
interventions (\(J = 2\)) with different effects across three demographic
groups (\(I = 3\)) would be represented as:
\(\begin{bmatrix}0.1 &amp; 0.05\\0.1 &amp; 0.1\\0.1 &amp; 0.0\end{bmatrix}\)
In epidemic models, the cumulative group-specific effect when both
interventions are active would be \((0.15, 0.2, 0.1)\).</p>
<p>For rate reductions, the effect of overlapping interventions that reduce a
particular rate is also considered to be additive.</p>
    </div>
    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># assuming a population with two age groups, 0 -- 18, and 18+</span></span></span>
<span class="r-in"><span><span class="co"># an example in which schools are closed for 30 days (or other time units)</span></span></span>
<span class="r-in"><span><span class="va">close_schools</span> <span class="op">&lt;-</span> <span class="fu">intervention</span><span class="op">(</span></span></span>
<span class="r-in"><span>  name <span class="op">=</span> <span class="st">"close schools"</span>,</span></span>
<span class="r-in"><span>  type <span class="op">=</span> <span class="st">"contacts"</span>,</span></span>
<span class="r-in"><span>  time_begin <span class="op">=</span> <span class="fl">50</span>,</span></span>
<span class="r-in"><span>  time_end <span class="op">=</span> <span class="fl">80</span>,</span></span>
<span class="r-in"><span>  reduction <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0.01</span><span class="op">)</span><span class="op">)</span> <span class="co"># reduces contacts differentially</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">close_schools</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">&lt;contacts_intervention&gt;</span> object</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  <span style="color: #BB00BB;">Intervention name: </span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> "close schools"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  <span style="color: #BB00BB;">Begins at:</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  <span style="color: #BB00BB;">Ends at:</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 80</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  <span style="color: #BB00BB;">Reduction:</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              Interv. 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Demo. grp. 1      0.50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Demo. grp. 2      0.01</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Check for intervention class</span></span></span>
<span class="r-in"><span><span class="fu">is_contacts_intervention</span><span class="op">(</span><span class="va">close_schools</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Concatenating interventions</span></span></span>
<span class="r-in"><span><span class="co"># create first intervention</span></span></span>
<span class="r-in"><span><span class="va">npi_1</span> <span class="op">&lt;-</span> <span class="fu">intervention</span><span class="op">(</span></span></span>
<span class="r-in"><span>  type <span class="op">=</span> <span class="st">"contacts"</span>,</span></span>
<span class="r-in"><span>  time_begin <span class="op">=</span> <span class="fl">30</span>,</span></span>
<span class="r-in"><span>  time_end <span class="op">=</span> <span class="fl">60</span>,</span></span>
<span class="r-in"><span>  reduction <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fl">0.1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># second intervention</span></span></span>
<span class="r-in"><span><span class="va">npi_2</span> <span class="op">&lt;-</span> <span class="fu">intervention</span><span class="op">(</span></span></span>
<span class="r-in"><span>  type <span class="op">=</span> <span class="st">"contacts"</span>,</span></span>
<span class="r-in"><span>  time_begin <span class="op">=</span> <span class="fl">45</span>,</span></span>
<span class="r-in"><span>  time_end <span class="op">=</span> <span class="fl">75</span>,</span></span>
<span class="r-in"><span>  reduction <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fl">0.1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">npi_1</span>, <span class="va">npi_2</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">&lt;contacts_intervention&gt;</span> object</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  <span style="color: #BB00BB;">Intervention name: </span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  <span style="color: #BB00BB;">Begins at:</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      npi_1 npi_2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]    30    45</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  <span style="color: #BB00BB;">Ends at:</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      npi_1 npi_2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]    60    75</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  <span style="color: #BB00BB;">Reduction:</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              Interv. 1 Interv. 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Demo. grp. 1       0.1       0.1</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>
    <footer><div class="pkgdown-footer-left">
  <p>Developed by Pratik Gupte, Rosalind Eggo, Edwin Van Leeuwen.</p>
</div>
<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.9000.</p>
</div>
    </footer></div>
  </body></html>

