{"version":"1.5.11","config":{"base":"seirv_model","include":null,"custom":null},"meta":{"internal":"internal","user":"user","state":"state","result":"dstatedt","output":"output","time":"t","initial_time":"initial_t"},"features":{"continuous":true,"discrete":false,"mixed":false,"has_array":true,"has_output":false,"has_user":true,"has_delay":false,"has_interpolate":false,"has_stochastic":false,"has_data":false,"has_compare":false,"has_include":false,"has_debug":false,"has_derivative":false,"initial_time_dependent":false},"data":{"elements":[{"name":"beta","location":"internal","storage_type":"double","rank":0,"dimnames":null,"stage":"user"},{"name":"C","location":"internal","storage_type":"double","rank":2,"dimnames":{"length":"dim_C","dim":["dim_C_1","dim_C_2"],"mult":["","dim_C_1"]},"stage":"user"},{"name":"contact_reduction","location":"internal","storage_type":"double","rank":2,"dimnames":{"length":"dim_contact_reduction","dim":["dim_contact_reduction_1","dim_contact_reduction_2"],"mult":["","dim_contact_reduction_1"]},"stage":"time"},{"name":"contact_reduction_sum","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_contact_reduction_sum","dim":[],"mult":[]},"stage":"time"},{"name":"contact_reduction_total","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_contact_reduction_total","dim":[],"mult":[]},"stage":"time"},{"name":"dim_C","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_C_1","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_C_2","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_contact_reduction","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_contact_reduction_1","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_contact_reduction_2","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_contact_reduction_sum","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_contact_reduction_total","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_E","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_I","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_init_E","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_init_I","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_init_R","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_init_S","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_init_V","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_intervention_effect","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_intervention_effect_1","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_intervention_effect_2","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_intervention_end","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_intervention_start","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_lambda","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_lambda_prod","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_lambda_prod_1","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_lambda_prod_2","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_R","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_S","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_V","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_vax_end","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_vax_nu","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_vax_rate","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_vax_start","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"E","location":"variable","storage_type":"double","rank":1,"dimnames":{"length":"dim_E","dim":[],"mult":[]},"stage":"time"},{"name":"gamma","location":"internal","storage_type":"double","rank":0,"dimnames":null,"stage":"user"},{"name":"I","location":"variable","storage_type":"double","rank":1,"dimnames":{"length":"dim_I","dim":[],"mult":[]},"stage":"time"},{"name":"init_E","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_init_E","dim":[],"mult":[]},"stage":"user"},{"name":"init_I","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_init_I","dim":[],"mult":[]},"stage":"user"},{"name":"init_R","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_init_R","dim":[],"mult":[]},"stage":"user"},{"name":"init_S","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_init_S","dim":[],"mult":[]},"stage":"user"},{"name":"init_V","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_init_V","dim":[],"mult":[]},"stage":"user"},{"name":"initial_E","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_E","dim":[],"mult":[]},"stage":"user"},{"name":"initial_I","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_I","dim":[],"mult":[]},"stage":"user"},{"name":"initial_R","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_R","dim":[],"mult":[]},"stage":"user"},{"name":"initial_S","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_S","dim":[],"mult":[]},"stage":"user"},{"name":"initial_V","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_V","dim":[],"mult":[]},"stage":"user"},{"name":"intervention_effect","location":"internal","storage_type":"double","rank":2,"dimnames":{"length":"dim_intervention_effect","dim":["dim_intervention_effect_1","dim_intervention_effect_2"],"mult":["","dim_intervention_effect_1"]},"stage":"user"},{"name":"intervention_end","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_intervention_end","dim":[],"mult":[]},"stage":"user"},{"name":"intervention_start","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_intervention_start","dim":[],"mult":[]},"stage":"user"},{"name":"lambda","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_lambda","dim":[],"mult":[]},"stage":"time"},{"name":"lambda_prod","location":"internal","storage_type":"double","rank":2,"dimnames":{"length":"dim_lambda_prod","dim":["dim_lambda_prod_1","dim_lambda_prod_2"],"mult":["","dim_lambda_prod_1"]},"stage":"time"},{"name":"n_age","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"n_intervention","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"offset_variable_I","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"offset_variable_R","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"offset_variable_V","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"R","location":"variable","storage_type":"double","rank":1,"dimnames":{"length":"dim_R","dim":[],"mult":[]},"stage":"time"},{"name":"S","location":"variable","storage_type":"double","rank":1,"dimnames":{"length":"dim_S","dim":[],"mult":[]},"stage":"time"},{"name":"sigma","location":"internal","storage_type":"double","rank":0,"dimnames":null,"stage":"user"},{"name":"V","location":"variable","storage_type":"double","rank":1,"dimnames":{"length":"dim_V","dim":[],"mult":[]},"stage":"time"},{"name":"vax_end","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_vax_end","dim":[],"mult":[]},"stage":"user"},{"name":"vax_nu","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_vax_nu","dim":[],"mult":[]},"stage":"user"},{"name":"vax_rate","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_vax_rate","dim":[],"mult":[]},"stage":"time"},{"name":"vax_start","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_vax_start","dim":[],"mult":[]},"stage":"user"}],"variable":{"length":["+",["+",["+",["+","dim_E","dim_I"],"dim_R"],"dim_S"],"dim_V"],"contents":[{"name":"S","offset":0,"initial":"initial_S"},{"name":"E","offset":"dim_S","initial":"initial_E"},{"name":"I","offset":"offset_variable_I","initial":"initial_I"},{"name":"R","offset":"offset_variable_R","initial":"initial_R"},{"name":"V","offset":"offset_variable_V","initial":"initial_V"}]},"output":{"length":0,"contents":[]}},"equations":[{"name":"alloc_contact_reduction","type":"alloc","source":[79],"depends":{"functions":[],"variables":["dim_contact_reduction"]},"lhs":"contact_reduction"},{"name":"alloc_contact_reduction_sum","type":"alloc","source":[80],"depends":{"functions":[],"variables":["dim_contact_reduction_sum"]},"lhs":"contact_reduction_sum"},{"name":"alloc_contact_reduction_total","type":"alloc","source":[81],"depends":{"functions":[],"variables":["dim_contact_reduction_total"]},"lhs":"contact_reduction_total"},{"name":"alloc_initial_E","type":"alloc","source":[75],"depends":{"functions":[],"variables":["dim_E"]},"lhs":"initial_E"},{"name":"alloc_initial_I","type":"alloc","source":[76],"depends":{"functions":[],"variables":["dim_I"]},"lhs":"initial_I"},{"name":"alloc_initial_R","type":"alloc","source":[77],"depends":{"functions":[],"variables":["dim_R"]},"lhs":"initial_R"},{"name":"alloc_initial_S","type":"alloc","source":[74],"depends":{"functions":[],"variables":["dim_S"]},"lhs":"initial_S"},{"name":"alloc_initial_V","type":"alloc","source":[78],"depends":{"functions":[],"variables":["dim_V"]},"lhs":"initial_V"},{"name":"alloc_lambda","type":"alloc","source":[73],"depends":{"functions":[],"variables":["dim_lambda"]},"lhs":"lambda"},{"name":"alloc_lambda_prod","type":"alloc","source":[72],"depends":{"functions":[],"variables":["dim_lambda_prod"]},"lhs":"lambda_prod"},{"name":"alloc_vax_rate","type":"alloc","source":[85],"depends":{"functions":[],"variables":["dim_vax_rate"]},"lhs":"vax_rate"},{"name":"beta","type":"user","source":[47],"depends":null,"lhs":"beta","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"C","type":"user","source":[44],"depends":{"functions":["dim"],"variables":["dim_C"]},"lhs":"C","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"contact_reduction","type":"expression_array","source":[9],"depends":{"functions":["dim","if","&&",">","[","<"],"variables":["dim_contact_reduction","t","intervention_start","i","intervention_end","intervention_effect","j","alloc_contact_reduction"]},"lhs":"contact_reduction","rhs":[{"index":[{"value":[":",1,["dim","contact_reduction",1]],"is_range":true,"index":"i"},{"value":[":",1,["dim","contact_reduction",2]],"is_range":true,"index":"j"}],"value":["if",["&&",[">","t",["[","intervention_start","i"]],["<","t",["[","intervention_end","i"]]],["[","intervention_effect","i","j"],0]}]},{"name":"contact_reduction_sum","type":"expression_array","source":[10],"depends":{"functions":["length","odin_sum","dim"],"variables":["dim_contact_reduction_sum","contact_reduction","dim_contact_reduction","i","alloc_contact_reduction_sum"]},"lhs":"contact_reduction_sum","rhs":[{"index":[{"value":[":",1,["length","contact_reduction_sum"]],"is_range":true,"index":"i"}],"value":["odin_sum","contact_reduction",1,["dim","contact_reduction",1],"i","i"]}]},{"name":"contact_reduction_total","type":"expression_array","source":[11],"depends":{"functions":["length","-","min","["],"variables":["dim_contact_reduction_total","contact_reduction_sum","i","alloc_contact_reduction_total"]},"lhs":"contact_reduction_total","rhs":[{"index":[{"value":[":",1,["length","contact_reduction_total"]],"is_range":true,"index":"i"}],"value":["-",1,["min",["[","contact_reduction_sum","i"],1]]}]},{"name":"deriv_E","type":"expression_array","source":[26],"depends":{"functions":["length","-","*","["],"variables":["dim_E","lambda","i","S","sigma","E"]},"lhs":"E","rhs":[{"index":[{"value":[":",1,["length","E"]],"is_range":true,"index":"i"}],"value":["-",["*",["[","lambda","i"],["[","S","i"]],["*","sigma",["[","E","i"]]]}]},{"name":"deriv_I","type":"expression_array","source":[27],"depends":{"functions":["length","-","*","["],"variables":["dim_I","sigma","E","i","gamma","I"]},"lhs":"I","rhs":[{"index":[{"value":[":",1,["length","I"]],"is_range":true,"index":"i"}],"value":["-",["*","sigma",["[","E","i"]],["*","gamma",["[","I","i"]]]}]},{"name":"deriv_R","type":"expression_array","source":[28],"depends":{"functions":["length","*","["],"variables":["dim_R","gamma","I","i"]},"lhs":"R","rhs":[{"index":[{"value":[":",1,["length","R"]],"is_range":true,"index":"i"}],"value":["*","gamma",["[","I","i"]]}]},{"name":"deriv_S","type":"expression_array","source":[25],"depends":{"functions":["length","if","<","+","[","*","-","("],"variables":["dim_S","vax_rate","i","lambda","S"]},"lhs":"S","rhs":[{"index":[{"value":[":",1,["length","S"]],"is_range":true,"index":"i"}],"value":["if",["<",["+",["[","vax_rate","i"],["[","lambda","i"]],1],["*",["-",["(",["+",["[","lambda","i"],["[","vax_rate","i"]]]],["[","S","i"]],["-",["[","S","i"]]]}]},{"name":"deriv_V","type":"expression_array","source":[29],"depends":{"functions":["length","if","<","+","[","*","(","-"],"variables":["dim_V","vax_rate","i","lambda","S"]},"lhs":"V","rhs":[{"index":[{"value":[":",1,["length","V"]],"is_range":true,"index":"i"}],"value":["if",["<",["+",["[","vax_rate","i"],["[","lambda","i"]],1],["*",["[","vax_rate","i"],["[","S","i"]],["*",["[","S","i"],["(",["-",1,["[","lambda","i"]]]]]}]},{"name":"dim_C","type":"expression_scalar","source":[71],"depends":{"functions":[],"variables":["dim_C_1","dim_C_2"]},"lhs":"dim_C","rhs":{"value":["*","dim_C_1","dim_C_2"]}},{"name":"dim_C_1","type":"expression_scalar","source":[71],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_C_1","rhs":{"value":"n_age"}},{"name":"dim_C_2","type":"expression_scalar","source":[71],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_C_2","rhs":{"value":"n_age"}},{"name":"dim_contact_reduction","type":"expression_scalar","source":[79],"depends":{"functions":[],"variables":["dim_contact_reduction_1","dim_contact_reduction_2"]},"lhs":"dim_contact_reduction","rhs":{"value":["*","dim_contact_reduction_1","dim_contact_reduction_2"]}},{"name":"dim_contact_reduction_1","type":"expression_scalar","source":[79],"depends":{"functions":[],"variables":["n_intervention","n_age"]},"lhs":"dim_contact_reduction_1","rhs":{"value":"n_intervention"}},{"name":"dim_contact_reduction_2","type":"expression_scalar","source":[79],"depends":{"functions":[],"variables":["n_intervention","n_age"]},"lhs":"dim_contact_reduction_2","rhs":{"value":"n_age"}},{"name":"dim_contact_reduction_sum","type":"expression_scalar","source":[80],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_contact_reduction_sum","rhs":{"value":"n_age"}},{"name":"dim_contact_reduction_total","type":"expression_scalar","source":[81],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_contact_reduction_total","rhs":{"value":"n_age"}},{"name":"dim_E","type":"expression_scalar","source":[75],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_E","rhs":{"value":"n_age"}},{"name":"dim_I","type":"expression_scalar","source":[76],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_I","rhs":{"value":"n_age"}},{"name":"dim_init_E","type":"expression_scalar","source":[90],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_init_E","rhs":{"value":"n_age"}},{"name":"dim_init_I","type":"expression_scalar","source":[91],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_init_I","rhs":{"value":"n_age"}},{"name":"dim_init_R","type":"expression_scalar","source":[92],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_init_R","rhs":{"value":"n_age"}},{"name":"dim_init_S","type":"expression_scalar","source":[89],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_init_S","rhs":{"value":"n_age"}},{"name":"dim_init_V","type":"expression_scalar","source":[93],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_init_V","rhs":{"value":"n_age"}},{"name":"dim_intervention_effect","type":"expression_scalar","source":[84],"depends":{"functions":[],"variables":["dim_intervention_effect_1","dim_intervention_effect_2"]},"lhs":"dim_intervention_effect","rhs":{"value":["*","dim_intervention_effect_1","dim_intervention_effect_2"]}},{"name":"dim_intervention_effect_1","type":"expression_scalar","source":[84],"depends":{"functions":[],"variables":["n_intervention","n_age"]},"lhs":"dim_intervention_effect_1","rhs":{"value":"n_intervention"}},{"name":"dim_intervention_effect_2","type":"expression_scalar","source":[84],"depends":{"functions":[],"variables":["n_intervention","n_age"]},"lhs":"dim_intervention_effect_2","rhs":{"value":"n_age"}},{"name":"dim_intervention_end","type":"expression_scalar","source":[83],"depends":{"functions":[],"variables":["n_intervention"]},"lhs":"dim_intervention_end","rhs":{"value":"n_intervention"}},{"name":"dim_intervention_start","type":"expression_scalar","source":[82],"depends":{"functions":[],"variables":["n_intervention"]},"lhs":"dim_intervention_start","rhs":{"value":"n_intervention"}},{"name":"dim_lambda","type":"expression_scalar","source":[73],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_lambda","rhs":{"value":"n_age"}},{"name":"dim_lambda_prod","type":"expression_scalar","source":[72],"depends":{"functions":[],"variables":["dim_lambda_prod_1","dim_lambda_prod_2"]},"lhs":"dim_lambda_prod","rhs":{"value":["*","dim_lambda_prod_1","dim_lambda_prod_2"]}},{"name":"dim_lambda_prod_1","type":"expression_scalar","source":[72],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_lambda_prod_1","rhs":{"value":"n_age"}},{"name":"dim_lambda_prod_2","type":"expression_scalar","source":[72],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_lambda_prod_2","rhs":{"value":"n_age"}},{"name":"dim_R","type":"expression_scalar","source":[77],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_R","rhs":{"value":"n_age"}},{"name":"dim_S","type":"expression_scalar","source":[74],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_S","rhs":{"value":"n_age"}},{"name":"dim_V","type":"expression_scalar","source":[78],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_V","rhs":{"value":"n_age"}},{"name":"dim_vax_end","type":"expression_scalar","source":[87],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_vax_end","rhs":{"value":"n_age"}},{"name":"dim_vax_nu","type":"expression_scalar","source":[88],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_vax_nu","rhs":{"value":"n_age"}},{"name":"dim_vax_rate","type":"expression_scalar","source":[85],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_vax_rate","rhs":{"value":"n_age"}},{"name":"dim_vax_start","type":"expression_scalar","source":[86],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_vax_start","rhs":{"value":"n_age"}},{"name":"gamma","type":"user","source":[49],"depends":null,"lhs":"gamma","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"init_E","type":"user","source":[65],"depends":{"functions":["length"],"variables":["dim_init_E"]},"lhs":"init_E","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"init_I","type":"user","source":[66],"depends":{"functions":["length"],"variables":["dim_init_I"]},"lhs":"init_I","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"init_R","type":"user","source":[67],"depends":{"functions":["length"],"variables":["dim_init_R"]},"lhs":"init_R","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"init_S","type":"user","source":[64],"depends":{"functions":["length"],"variables":["dim_init_S"]},"lhs":"init_S","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"init_V","type":"user","source":[68],"depends":{"functions":["length"],"variables":["dim_init_V"]},"lhs":"init_V","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"initial_E","type":"expression_array","source":[38],"depends":{"functions":["length","["],"variables":["dim_E","init_E","i"]},"lhs":"initial_E","rhs":[{"index":[{"value":[":",1,["length","E"]],"is_range":true,"index":"i"}],"value":["[","init_E","i"]}]},{"name":"initial_I","type":"expression_array","source":[39],"depends":{"functions":["length","["],"variables":["dim_I","init_I","i"]},"lhs":"initial_I","rhs":[{"index":[{"value":[":",1,["length","I"]],"is_range":true,"index":"i"}],"value":["[","init_I","i"]}]},{"name":"initial_R","type":"expression_array","source":[40],"depends":{"functions":["length","["],"variables":["dim_R","init_R","i"]},"lhs":"initial_R","rhs":[{"index":[{"value":[":",1,["length","R"]],"is_range":true,"index":"i"}],"value":["[","init_R","i"]}]},{"name":"initial_S","type":"expression_array","source":[37],"depends":{"functions":["length","["],"variables":["dim_S","init_S","i"]},"lhs":"initial_S","rhs":[{"index":[{"value":[":",1,["length","S"]],"is_range":true,"index":"i"}],"value":["[","init_S","i"]}]},{"name":"initial_V","type":"expression_array","source":[41],"depends":{"functions":["length","["],"variables":["dim_V","init_V","i"]},"lhs":"initial_V","rhs":[{"index":[{"value":[":",1,["length","V"]],"is_range":true,"index":"i"}],"value":["[","init_V","i"]}]},{"name":"intervention_effect","type":"user","source":[60],"depends":{"functions":["dim"],"variables":["dim_intervention_effect"]},"lhs":"intervention_effect","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"intervention_end","type":"user","source":[59],"depends":{"functions":["length"],"variables":["dim_intervention_end"]},"lhs":"intervention_end","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"intervention_start","type":"user","source":[58],"depends":{"functions":["length"],"variables":["dim_intervention_start"]},"lhs":"intervention_start","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"lambda","type":"expression_array","source":[18],"depends":{"functions":["length","odin_sum","dim"],"variables":["dim_lambda","lambda_prod","i","dim_lambda_prod","alloc_lambda"]},"lhs":"lambda","rhs":[{"index":[{"value":[":",1,["length","lambda"]],"is_range":true,"index":"i"}],"value":["odin_sum","lambda_prod","i","i",1,["dim","lambda_prod",2]]}]},{"name":"lambda_prod","type":"expression_array","source":[17],"depends":{"functions":["dim","*","["],"variables":["dim_lambda_prod","C","i","j","I","beta","contact_reduction_total","alloc_lambda_prod"]},"lhs":"lambda_prod","rhs":[{"index":[{"value":[":",1,["dim","lambda_prod",1]],"is_range":true,"index":"i"},{"value":[":",1,["dim","lambda_prod",2]],"is_range":true,"index":"j"}],"value":["*",["*",["*",["*",["[","C","i","j"],["[","I","j"]],"beta"],["[","contact_reduction_total","j"]],["[","contact_reduction_total","i"]]}]},{"name":"n_age","type":"user","source":[45],"depends":null,"lhs":"n_age","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"n_intervention","type":"user","source":[46],"depends":null,"lhs":"n_intervention","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"offset_variable_I","type":"expression_scalar","source":[],"depends":{"functions":["+"],"variables":["dim_E","dim_S"]},"lhs":"offset_variable_I","rhs":{"value":["+","dim_E","dim_S"]}},{"name":"offset_variable_R","type":"expression_scalar","source":[],"depends":{"functions":["+"],"variables":["dim_E","dim_I","dim_S"]},"lhs":"offset_variable_R","rhs":{"value":["+",["+","dim_E","dim_I"],"dim_S"]}},{"name":"offset_variable_V","type":"expression_scalar","source":[],"depends":{"functions":["+"],"variables":["dim_E","dim_I","dim_R","dim_S"]},"lhs":"offset_variable_V","rhs":{"value":["+",["+",["+","dim_E","dim_I"],"dim_R"],"dim_S"]}},{"name":"sigma","type":"user","source":[48],"depends":null,"lhs":"sigma","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"vax_end","type":"user","source":[62],"depends":{"functions":["length"],"variables":["dim_vax_end"]},"lhs":"vax_end","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"vax_nu","type":"user","source":[63],"depends":{"functions":["length"],"variables":["dim_vax_nu"]},"lhs":"vax_nu","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"vax_rate","type":"expression_array","source":[22],"depends":{"functions":["length","if","&&",">=","[","<","/"],"variables":["dim_vax_rate","t","vax_start","i","vax_end","vax_nu","S","alloc_vax_rate"]},"lhs":"vax_rate","rhs":[{"index":[{"value":[":",1,["length","vax_rate"]],"is_range":true,"index":"i"}],"value":["if",["&&",[">=","t",["[","vax_start","i"]],["<","t",["[","vax_end","i"]]],["/",["[","vax_nu","i"],["[","S","i"]],0]}]},{"name":"vax_start","type":"user","source":[61],"depends":{"functions":["length"],"variables":["dim_vax_start"]},"lhs":"vax_start","user":{"default":null,"dim":false,"min":null,"max":null}}],"debug":[],"components":{"create":{"variables":[],"equations":[]},"user":{"variables":[],"equations":["beta","gamma","n_age","n_intervention","sigma","dim_C_1","dim_C_2","dim_contact_reduction_1","dim_contact_reduction_2","dim_contact_reduction_sum","dim_contact_reduction_total","dim_E","dim_I","dim_init_E","dim_init_I","dim_init_R","dim_init_S","dim_init_V","dim_intervention_effect_1","dim_intervention_effect_2","dim_intervention_end","dim_intervention_start","dim_lambda","dim_lambda_prod_1","dim_lambda_prod_2","dim_R","dim_S","dim_V","dim_vax_end","dim_vax_nu","dim_vax_rate","dim_vax_start","alloc_contact_reduction_sum","alloc_contact_reduction_total","alloc_initial_E","alloc_initial_I","alloc_initial_R","alloc_initial_S","alloc_initial_V","alloc_lambda","alloc_vax_rate","dim_C","dim_contact_reduction","dim_intervention_effect","dim_lambda_prod","init_E","init_I","init_R","init_S","init_V","intervention_end","intervention_start","offset_variable_I","offset_variable_R","offset_variable_V","vax_end","vax_nu","vax_start","alloc_contact_reduction","alloc_lambda_prod","C","initial_E","initial_I","initial_R","initial_S","initial_V","intervention_effect"]},"initial":{"variables":[],"equations":[]},"rhs":{"variables":["S","E","I"],"equations":["deriv_I","deriv_R","vax_rate","contact_reduction","contact_reduction_sum","contact_reduction_total","lambda_prod","lambda","deriv_E","deriv_S","deriv_V"]},"update_stochastic":{"variables":[],"equations":[]},"output":{"variables":[],"equations":[]},"compare":{"variables":[],"equations":[]}},"user":[{"name":"beta","has_default":false},{"name":"C","has_default":false},{"name":"gamma","has_default":false},{"name":"init_E","has_default":false},{"name":"init_I","has_default":false},{"name":"init_R","has_default":false},{"name":"init_S","has_default":false},{"name":"init_V","has_default":false},{"name":"intervention_effect","has_default":false},{"name":"intervention_end","has_default":false},{"name":"intervention_start","has_default":false},{"name":"n_age","has_default":false},{"name":"n_intervention","has_default":false},{"name":"sigma","has_default":false},{"name":"vax_end","has_default":false},{"name":"vax_nu","has_default":false},{"name":"vax_start","has_default":false}],"interpolate":{"min":[],"max":[],"critical":[]},"source":["# Time-dependent parameters","# beta_t <- interpolate(time, beta, \"linear\")","# sigma_t <- interpolate(time, sigma, \"linear\")","# gamma_t <- interpolate(time, gamma, \"linear\")","","# Contact matrix with time-dependent interventions","# Then multiply across interventions - need to check this","# contact_reduction[, ] <- if (t >= intervention_start[i] && t <= intervention_end[i]) intervention_effect[i, j] else 0 # nolint: line_length_linter.","contact_reduction[, ] <- if (t > intervention_start[i] && t < intervention_end[i]) intervention_effect[i, j] else 0 # nolint: line_length_linter.","contact_reduction_sum[] <- sum(contact_reduction[, i])","contact_reduction_total[] <- 1 - min(contact_reduction_sum[i],1)","","# Specify how transmission varies over time","# FOI is contacts * infectious * transmission rate","# returns a matrix, must be converted to a vector/1D array","# lambda_prod[, ] <- C[i, j] * I[j] * beta_t * contact_reduction_total[j] * contact_reduction_total[i] # nolint: line_length_linter.","lambda_prod[, ] <- C[i, j] * I[j] * beta * contact_reduction_total[j] * contact_reduction_total[i] # nolint: line_length_linter.","lambda[] <- sum(lambda_prod[i, ])","","# Vaccination - indexing over age groups","# vax_rate[] <- if (t >= vax_start[i] && t <= vax_end[i]) vax_nu[i]/S[i] else 0","vax_rate[] <- if (t >= vax_start[i] && t < vax_end[i]) vax_nu[i]/S[i] else 0","","# ODEs","deriv(S[]) <- if(vax_rate[i] + lambda[i] < 1) -(lambda[i] + vax_rate[i]) * S[i] else - S[i]","deriv(E[]) <- lambda[i] * S[i] - sigma * E[i]","deriv(I[]) <- sigma * E[i] - gamma * I[i]","deriv(R[]) <- gamma * I[i]","deriv(V[]) <- if(vax_rate[i] + lambda[i] < 1) vax_rate[i] * S[i] else S[i]*(1-lambda[i])","","","# deriv(E[]) <- lambda[i] * S[i] - sigma_t * E[i]","# deriv(I[]) <- sigma_t * E[i] - gamma_t * I[i]","# deriv(R[]) <- gamma_t * I[i]","","# Initial conditions","initial(S[]) <- init_S[i]","initial(E[]) <- init_E[i]","initial(I[]) <- init_I[i]","initial(R[]) <- init_R[i]","initial(V[]) <- init_V[i]","","# User-defined parameters","C[, ] <- user()","n_age <- user()","n_intervention <- user()","beta <- user()","sigma <- user()","gamma <- user()","","# Not currently used (can re-add for time-dependent parameters)","# dim(time) <- n_time","# dim(beta) <- n_time","# dim(sigma) <- n_time","# dim(gamma) <- n_time","# n_time <- user()","# time[] <- user()","intervention_start[] <- user()","intervention_end[] <- user()","intervention_effect[, ] <- user()","vax_start[] <- user()","vax_end[] <- user()","vax_nu[] <- user()","init_S[] <- user()","init_E[] <- user()","init_I[] <- user()","init_R[] <- user()","init_V[] <- user()","","# Dimensions","dim(C) <- c(n_age, n_age)","dim(lambda_prod) <- c(n_age, n_age)","dim(lambda) <- n_age","dim(S) <- n_age","dim(E) <- n_age","dim(I) <- n_age","dim(R) <- n_age","dim(V) <- n_age","dim(contact_reduction) <- c(n_intervention, n_age)","dim(contact_reduction_sum) <- c(n_age)","dim(contact_reduction_total) <- c(n_age)","dim(intervention_start) <- n_intervention","dim(intervention_end) <- n_intervention","dim(intervention_effect) <- c(n_intervention, n_age)","dim(vax_rate) <- n_age","dim(vax_start) <- n_age","dim(vax_end) <- n_age","dim(vax_nu) <- n_age","dim(init_S) <- n_age","dim(init_E) <- n_age","dim(init_I) <- n_age","dim(init_R) <- n_age","dim(init_V) <- n_age"]}
